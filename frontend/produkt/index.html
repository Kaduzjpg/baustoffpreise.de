<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Produkt – Baustoffpreisevergleichen.de</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-gray-900">
  <main class="max-w-[1200px] mx-auto px-4 py-8">
    <nav class="text-sm text-gray-600 mb-4"><a href="/kategorien/" class="hover:text-brand">Kategorien</a> / <span id="crumb-cat"></span></nav>
    <h1 id="title" class="text-2xl font-semibold mb-2"></h1>
    <button id="add" class="inline-flex items-center px-4 py-2 bg-brand hover:bg-brand-dark text-white rounded transition">In Anfragekorb</button>
  </main>
  <script type="module">
    import { products, categories } from '/assets/js/data.js';
    import { addItem } from '/assets/js/cart.js';
    import { showToast } from '/assets/js/ui.js';
    const url = new URL(location.href);
    const slug = url.searchParams.get('s') || location.pathname.split('/').filter(Boolean).pop();
    const p = products.find(x => x.slug === slug);
    const c = categories.find(x => x.id === p?.categoryId);
    document.getElementById('title').textContent = p ? p.name : 'Produkt';
    document.getElementById('crumb-cat').textContent = c ? c.name : '';
    document.getElementById('add').addEventListener('click', () => {
      if (!p) return;
      addItem(p.id, 1, '');
      showToast('Zum Anfragekorb hinzugefügt', 'success');
    });
  </script>
</body>
</html>

